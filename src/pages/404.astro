---
import Layout from "../layouts/Layout.astro";
---

<Layout>
  <section class="h-svh bg-[#ffdc8a]">
    <div
      class="px-3 md:px-6 lg:px-10.75 pt-[60px] h-[calc(100%-50px)] md:h-[calc(100%-60px)]"
    >
      <div class="border-[#FFFFFFB2] border-x relative h-full">
        <div class="relative w-full h-full overflow-hidden">
          <img
            id="hero-bg-1"
            class="absolute top-0 left-0 w-full h-full object-cover opacity-100"
          />

          <img
            id="hero-bg-2"
            class="absolute top-0 left-0 w-full h-full object-cover opacity-0"
          />
        </div>

        <div
          class="flex flex-col items-center justify-center absolute text-center top-0 left-0 w-full h-full"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="80px"
            viewBox="0 -960 960 960"
            width="80px"
            class="animate-bounce"
            fill="#ffdc8a"
            ><path
              d="M479.98-280q14.02 0 23.52-9.48t9.5-23.5q0-14.02-9.48-23.52t-23.5-9.5q-14.02 0-23.52 9.48t-9.5 23.5q0 14.02 9.48 23.52t23.5 9.5ZM453-433h60v-253h-60v253Zm27.27 353q-82.74 0-155.5-31.5Q252-143 197.5-197.5t-86-127.34Q80-397.68 80-480.5t31.5-155.66Q143-709 197.5-763t127.34-85.5Q397.68-880 480.5-880t155.66 31.5Q709-817 763-763t85.5 127Q880-563 880-480.27q0 82.74-31.5 155.5Q817-252 763-197.68q-54 54.31-127 86Q563-80 480.27-80Zm.23-60Q622-140 721-239.5t99-241Q820-622 721.19-721T480-820q-141 0-240.5 98.81T140-480q0 141 99.5 240.5t241 99.5Zm-.5-340Z"
            ></path></svg
          >
          <h6
            class="text-[#ffdc8a] text-xl sm:text-2xl md:text-4xl font-medium tracking-tight"
          >
            404 - Página no encontrada
          </h6>
          <p
            class="text-[#ffdc8a] [&>a:hover]:text-primary text-sm/relaxed sm:text-base/relaxed md:text-xl/relaxed [&>a]:underline [&>a]:underline-offset-4"
          >
            La página que estás buscando no existe.
          </p>
          <a
            class="text-[#414db8] bg-[#ffdc8a] font-neuton text-center border border-[#414db8] text-[1rem] leading-5.5 py-1 px-5 md:py-2 md:px-10 md:text-[1.375rem] md:leading-6.25 hover:bg-white duration-300 ease-in-out mt-4"
            href="/">Volver al inicio</a
          >
        </div>
      </div>
      <div
        class="flex items-center justify-center h-[50px] md:h-[60px] border-t border-[#FFFFFFB2] relative"
      >
        <div
          class="h-full absolute left-3 md:left-6 lg:left-10.75 w-px bg-[#FFFFFFB2]"
        >
        </div>
        <div
          class="h-full absolute right-3 md:right-6 lg:right-10.75 w-px bg-[#FFFFFFB2]"
        >
        </div>
        <div class="animate-bounce">
          <img
            alt="Down Arrow"
            loading="lazy"
            width="14"
            height="10"
            decoding="async"
            src="https://www.bbc.com/storyworks/specials/humanising-energy/assets/images/icons/scroll_icon.svg"
          />
        </div>
        <p
          class="pl-2 font-bold md:pl-3 text-[0.75rem] text-[#253366] uppercase font-neuton tracking-[0.0625rem]"
        >
          Desliza para descubrir más
        </p>
      </div>
    </div>
  </section>

  <script>
    import { gsap } from "gsap";
    import { SplitText } from "gsap/SplitText";

    import img_1 from "../assets/images/paneles/img (1).jpg";
    import img_2 from "../assets/images/paneles/img (2).jpg";
    import img_3 from "../assets/images/paneles/img (3).jpg";
    import img_4 from "../assets/images/paneles/img (4).jpg";
    import img_5 from "../assets/images/paneles/img (5).jpg";
    import img_6 from "../assets/images/paneles/img (6).jpg";
    import img_7 from "../assets/images/paneles/img (7).jpg";
    import img_8 from "../assets/images/paneles/img (8).jpg";
    import img_9 from "../assets/images/paneles/img (9).jpg";
    import img_10 from "../assets/images/paneles/img (10).jpg";

    const images = [
      img_1.src,
      img_2.src,
      img_3.src,
      img_4.src,
      img_5.src,
      img_6.src,
      img_7.src,
      img_8.src,
      img_9.src,
      img_10.src,
    ];

    const img1 = document.getElementById("hero-bg-1") as HTMLImageElement;
    const img2 = document.getElementById("hero-bg-2") as HTMLImageElement;

    let current = 0;
    let showingImg1 = true;

    // Imagen inicial
    img1.src = images[current];

    const changeImage = () => {
      const next = (current + 1) % images.length;
      const incoming = showingImg1 ? img2 : img1;
      const outgoing = showingImg1 ? img1 : img2;

      // Pre-cargamos la próxima imagen
      incoming.src = images[next];

      // Fade crossfade
      gsap.to(incoming, {
        opacity: 1,
        duration: 1.8,
        ease: "power2.out",
      });

      gsap.to(outgoing, {
        opacity: 0,
        duration: 1.5,
        ease: "power2.out",
      });

      current = next;
      showingImg1 = !showingImg1;
    };

    setInterval(changeImage, 5000);

    gsap.registerPlugin(SplitText);

    let typeSplit = new SplitText(".title-1", { type: "chars" });

    gsap.from(typeSplit.chars, {
      y: "100%",
      opacity: 0,
      duration: 1,
      ease: "power3.out",
      stagger: 0.1,
    });

    let typeSplit_2 = new SplitText(".title-2", { type: "chars" });

    gsap.from(typeSplit_2.chars, {
      y: "100%",
      opacity: 0,
      duration: 1,
      ease: "power3.out",
      delay: 0.5,
      stagger: 0.1,
    });

    let subtitleSplit = new SplitText(".subtitle", { type: "words" });

    gsap.from(subtitleSplit.words, {
      y: "100%",
      opacity: 0,
      duration: 1,
      ease: "power3.out",
      delay: 2,
      stagger: 0.1,
    });
  </script>
</Layout>
